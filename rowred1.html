<!DOCTYPE html> <!-- -*- html -*- -->
<html>
<head>
  <meta charset="utf-8">  
  <meta name="viewport" content="initial-scale=1, maximum-scale=1">
  <title>利用初等行变换解线性方程组</title>
  <link rel="shortcut icon" href="img/gatech.gif"/>

  
    <link rel="stylesheet" href="css/slideshow.css?vers=c31d27">


  <style>
      
  body {
      text-align: center;
      margin: 0;
      background: white;
  }

  #mathbox {
      width: 800px;
      height: 300px;
      margin: 0;
      border: 0;
      position: relative;
      display: inline-block;
  }

  .centered {
      width: 800px;
      display: inline-block;
  }

  .my-turn {
      width: 30%;
      text-align: center;
  }

  </style>

</head>
<body>
    
    <div id="mathbox"></div>
    <div class="centered">
        <div class="slideshow rrmat">
            <div class="controls">
                <span class="control-button">
                    <span class="icon-arrow prev-button inactive">
                        <span></span><span></span>
                    </span>
                </span>
                <span class="control-button">
                    <span class="icon-repeat reload-button inactive">
                        <span></span><span></span><span></span><span></span>
                    </span>
                </span>
                <span class="control-button" id="next-button">
                    <span class="icon-arrow next-button">
                        <span></span><span></span></span>
                </span><br>
                <span class="pages"></span>
            </div>
            <div class="caption">We want to "solve" this matrix.</div>
        </div>
        <div class="my-turn">
            <button class="slideshow-button">
               我们从这开始
            </button>
        </div>
    </div>


    
    <script src="js/slideshow.js?vers=774162"></script>


    <script type="text/javascript">
        "use strict";
        DomReady.ready(function() {

        var augment, blink, camera, height, mathbox, ortho, three, view, width;

ortho = 10000;

width = 800;

height = 300;

mathbox = window.mathbox = mathBox({
  element: document.getElementById("mathbox"),
  size: {
    width: width,
    height: height
  },
  plugins: ['core'],
  mathbox: {
    warmup: 2,
    splash: true,
    inspect: false
  },
  splash: {
    fancy: true,
    color: "blue"
  },
  camera: {
    near: ortho / 4,
    far: ortho * 4,
    lookAt: -width / 4
  }
});

if (mathbox.fallback) {
  throw "WebGL not supported";
}

three = mathbox.three;

three.renderer.setClearColor(new THREE.Color(0xFFFFFF), 1.0);

camera = mathbox.camera({
  proxy: false,
  position: [0, 0, ortho],
  fov: Math.atan(height / ortho) * 360 / π,
  lookAt: [width / 4, 0, 0]
});

view = mathbox.cartesian({
  range: [[-width / 2, width / 2], [-height / 2, height / 2], [-50, 50]],
  scale: [width, height, 100]
});

mathbox.set('focus', ortho);

window.rrmat = new RRMatrix(3, 4, view, mathbox, {
  augmentCol: 2,
  startAugmented: true
});

window.blink = blink = function(color, entries, times) {
  var arr, delay, i, k, last, ref;
  if (!times) {
    times = 2;
  }
  arr = [];
  delay = 0;
  for (i = k = 0, ref = times; 0 <= ref ? k < ref : k > ref; i = 0 <= ref ? ++k : --k) {
    arr.push({
      color: color,
      transform: "scale(2,2)",
      entries: entries,
      duration: 0.4,
      delay: delay
    });
    delay += 0.4;
    last = {
      color: "black",
      transform: "",
      entries: entries,
      duration: 0.4,
      delay: delay
    };
    delay += 0.4;
    arr.push(last);
  }
  delete last.color;
  return arr;
};

augment = null;

rrmat.setMatrix([[1, 2, 3, 6], [2, -3, 2, 14], [3, 1, -1, -2]]);

augment = 2;

window.slideshow = rrmat.slideshow().caption("想让这两行为0.").setStyle(blink("red", [[1, 0], [2, 0]]))["break"]().caption("因此我们减去第一行的若干倍").rowRep(0, -2, 1).rowRep(0, -3, 2).setStyle({
  color: "black",
  entries: [[1, 0], [2, 0]],
  duration: 0.2
})["break"]().caption("下面想把下述置换为0.").setStyle(blink("red", [[0, 1], [2, 1]]))["break"]().caption("如果该元素为1那就太好了.").setStyle(blink("blue", [[1, 1]]))["break"]().caption("我们就可以把第二行除以-7").setStyle(blink("blue", [[1, 0], [1, 1], [1, 2], [1, 3]])).caption("第二行除以 -7" + " 但是分式不是期望的.").setStyle({
  color: "black",
  entries: [[1, 0], [1, 1], [1, 2], [1, 3]],
  duration: 0.2
})["break"]().caption("我们先把两行交换").rowSwap(1, 2).setStyle([
  {
    color: "black",
    entries: [[1, 1]],
    duration: 1,
    delay: 0.1,
    color: "red",
    entries: [[2, 1]],
    duration: 1,
    delay: 0.1
  }
])["break"]().caption("中间这一行除以-5就不会产生新的分式了.").rowMult(1, -1 / 5)["break"]().caption("我们像以前一样用行变换消掉红色的颜色.").rowRep(1, -2, 0).rowRep(1, 7, 2).setStyle({
  color: "black",
  entries: [[0, 1], [2, 1]],
  duration: 0.2
})["break"]().caption("现在我们想消掉剩下的元素.").setStyle(blink("red", [[0, 2], [1, 2]]))["break"]().caption("为了把这个元素变为1").setStyle(blink("black", [[2, 2]])).caption("为了把这个元素变为1, 我们把第三行为10").rowMult(2, 1 / 10)["break"]().caption("用行变换削去红的元素, 如同一样").rowRep(2, -2, 1).rowRep(2, 1, 0).setStyle({
  color: "black",
  entries: [[0, 2], [1, 2]],
  duration: 0.2
}).caption("然后就得到正确答案了").setStyle({
  transform: "rotate(360deg)",
  entries: [[0, 0], [0, 1], [0, 2], [0, 3], [1, 0], [1, 1], [1, 2], [1, 3], [2, 0], [2, 1], [2, 2], [2, 3]],
  duration: 1.5,
  timing: 'linear'
})["break"]();

document.querySelector(".my-turn button").onclick = function() {
  var den, entry, getOps, i, j, k, l, m, mat, matval, num, ops, opsval, ref, ref1, ref2, ref3, ref4, row, rows, str;
  mat = slideshow.states[0].matrix;
  rows = [];
  for (i = k = 0, ref = mat.length; 0 <= ref ? k < ref : k > ref; i = 0 <= ref ? ++k : --k) {
    row = [];
    for (j = l = 0, ref1 = mat[0].length; 0 <= ref1 ? l < ref1 : l > ref1; j = 0 <= ref1 ? ++l : --l) {
      entry = mat[i][j];
      ref2 = RRMatrix.approxFraction(entry), num = ref2[0], den = ref2[1];
      row.push(num + ((ref3 = den !== 1) != null ? ref3 : "%2F" + {
        den: ""
      }));
    }
    rows.push(row.join(","));
  }
  matval = rows.join(":");
  getOps = function(slide) {
    var m, ref4, ret;
    if (slide.slides) {
      ret = [];
      for (i = m = 0, ref4 = slide.slides.length; 0 <= ref4 ? m < ref4 : m > ref4; i = 0 <= ref4 ? ++m : --m) {
        ret = ret.concat(getOps(slide.slides[i]));
      }
      return ret;
    }
    if (slide.data.shortOp) {
      return [slide.data.shortOp];
    }
    return [];
  };
  ops = [];
  for (i = m = 0, ref4 = slideshow.currentSlideNum; 0 <= ref4 ? m < ref4 : m > ref4; i = 0 <= ref4 ? ++m : --m) {
    ops = ops.concat(getOps(slideshow.slides[i]));
  }
  opsval = ops.join(",");
  str = "rrinter.html?mat=" + matval + "&ops=" + opsval + "&cur=" + ops.length;
  if (augment != null) {
    str += "&augment=" + augment;
  }
  return window.open(str);
};


        });
    </script>
</body>
</html>

