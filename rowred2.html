<!DOCTYPE html> <!-- -*- html -*- -->
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1">
  <title>矩阵的初等行变换</title>
  <link rel="shortcut icon" href="img/gatech.gif"/>

  
    <link rel="stylesheet" href="css/slideshow.css?vers=c31d27">


  <style>
      
  body {
      text-align: center;
      margin: 0;
      background: white;
  }

  #mathbox {
      width: 800px;
      height: 300px;
      margin: 0;
      border: 0;
      position: relative;
      display: inline-block;
  }

  .centered {
      width: 800px;
      display: inline-block;
  }

  .my-turn {
      width: 30%;
      text-align: center;
  }

  </style>

</head>
<body>
    
    <div id="mathbox"></div>
    <div class="centered">
        <div class="slideshow rrmat">
            <div class="controls">
                <span class="control-button">
                    <span class="icon-arrow prev-button inactive">
                        <span></span><span></span>
                    </span>
                </span>
                <span class="control-button">
                    <span class="icon-repeat reload-button inactive">
                        <span></span><span></span><span></span><span></span>
                    </span>
                </span>
                <span class="control-button" id="next-button">
                    <span class="icon-arrow next-button">
                        <span></span><span></span></span>
                </span><br>
                <span class="pages"></span>
            </div>
            <div class="caption">让我们开始行变换.</div>
        </div>
        <div class="my-turn">
            <button class="slideshow-button">
                从这里开始.
            </button>
        </div>
    </div>


    
    <script src="js/slideshow.js?vers=774162"></script>


    <script type="text/javascript">
        "use strict";
        DomReady.ready(function() {

        var augment, blink, camera, height, mathbox, ortho, three, view, width;

ortho = 10000;

width = 800;

height = 300;

mathbox = window.mathbox = mathBox({
  element: document.getElementById("mathbox"),
  size: {
    width: width,
    height: height
  },
  plugins: ['core'],
  mathbox: {
    warmup: 2,
    splash: true,
    inspect: false
  },
  splash: {
    fancy: true,
    color: "blue"
  },
  camera: {
    near: ortho / 4,
    far: ortho * 4,
    lookAt: -width / 4
  }
});

if (mathbox.fallback) {
  throw "WebGL not supported";
}

three = mathbox.three;

three.renderer.setClearColor(new THREE.Color(0xFFFFFF), 1.0);

camera = mathbox.camera({
  proxy: false,
  position: [0, 0, ortho],
  fov: Math.atan(height / ortho) * 360 / π,
  lookAt: [width / 4, 0, 0]
});

view = mathbox.cartesian({
  range: [[-width / 2, width / 2], [-height / 2, height / 2], [-50, 50]],
  scale: [width, height, 100]
});

mathbox.set('focus', ortho);

window.rrmat = new RRMatrix(3, 4, view, mathbox, {
  augmentCol: 2,
  startAugmented: true
});

window.blink = blink = function(color, entries, times) {
  var arr, delay, i, k, last, ref;
  if (!times) {
    times = 2;
  }
  arr = [];
  delay = 0;
  for (i = k = 0, ref = times; 0 <= ref ? k < ref : k > ref; i = 0 <= ref ? ++k : --k) {
    arr.push({
      color: color,
      transform: "scale(2,2)",
      entries: entries,
      duration: 0.4,
      delay: delay
    });
    delay += 0.4;
    last = {
      color: "black",
      transform: "",
      entries: entries,
      duration: 0.4,
      delay: delay
    };
    delay += 0.4;
    arr.push(last);
  }
  delete last.color;
  return arr;
};

augment = null;

rrmat.setMatrix([[0, -7, -4, 2], [2, 4, 6, 12], [3, 1, -1, -2]]);

window.slideshow = rrmat.slideshow().caption("<b>步骤 1a:</b> 这是第一列的主元.").setStyle(blink("red", [[1, 0], [2, 0]])).caption("<b>步骤 1a:</b> 这是第一列的主元." + " 我们要将它移到第一行.")["break"]().setStyle({
  color: "black",
  entries: [[2, 0]],
  duration: 0.2
}).rowSwap(0, 1)["break"]().caption("<b>步骤 1b:</b> 通过除以2将这个元素变为1.").setStyle(blink("red", [[0, 0]], 1)).rowMult(0, 1 / 2)["break"]().caption("将干扰人的一行剔除.").unAugment()["break"]().caption("<b>步骤 1c:</b> 我们将元素消除").setStyle(blink("blue", [[2, 0]], 1)).caption("<b>步骤 1c:</b>" + " 我们将这行减去3倍的第一行.").rowRep(0, -3, 2).setStyle({
  color: "black",
  entries: [[2, 0]],
  duration: 0.2
})["break"]().caption("现在第一列除了第一个元素，其他的都为0, 我们可以忽略第一行和第一列, 然后专注于矩阵的剩下部分.").setStyle({
  color: "rgb(200,200,200)",
  entries: [[0, 0], [0, 1], [0, 2], [0, 3], [1, 0], [2, 0]],
  duration: 0.5
})["break"]().caption("<b>步骤 2a</b> 第二列的剩下的元素都是主元.").setStyle(blink("red", [[1, 1], [2, 1]]))["break"]().caption("<b>步骤 2a</b> 我们使用底下这行进行下一步").setStyle({
  color: "black",
  entries: [[1, 1]],
  duration: 1
}).caption("<b>步骤 2a</b> 我们得将最后两行交换.").rowSwap(1, 2)["break"]().caption("<b>步骤 2b:</b> 我们将第2行除以 -5 让这个主元变为 1.").rowMult(1, -1 / 5).caption("<b>Step 2b:</b> Divide row 2 by -5 to make this pivat a 1.\n(The other entries in this row are divisible by 5; that's why we\nused this row as the pivot row.)")["break"]().caption("<b>Step 2c:</b> To kill this entry...").setStyle(blink("blue", [[2, 1]], 1)).caption("<b>Step 2c:</b>\nTo kill this entry, we add 7 times row 2 to row 3.").rowRep(1, 7, 2).setStyle({
  color: "black",
  entries: [[2, 1]],
  duration: 0.2
})["break"]().caption("Now the second column (the part we care about) is clear\nexcept for the pivot in the pivot, so we can ignore the\nsecond column and second row.").setStyle({
  color: "rgb(200,200,200)",
  entries: [[1, 1], [1, 2], [1, 3], [2, 1]],
  duration: 1
})["break"]().caption("<b>步骤 3a:</b>我们将最后一行的第一个非零元作为主元.").setStyle(blink("red", [[2, 2]]))["break"]().caption("<b>步骤 3b:</b>将其除以10变为1.").rowMult(2, 1 / 10)["break"]().caption(" <i>row echelon form</i>.").setStyle([
  {
    color: "red",
    entries: [[0, 0], [1, 1], [2, 2]],
    duration: 1,
    color: "black",
    entries: [[0, 1], [0, 2], [0, 3], [1, 2], [1, 3], [2, 3]],
    duration: 1
  }
])["break"]().caption("要将矩阵化为 <i>行最简形</i> , 我们将下列<span style=\"color: blue;\">蓝色</span>元素清楚.").setStyle([
  {
    color: "black",
    entries: [[0, 0], [1, 1], [2, 2]],
    duration: 1
  }
].concat(blink("blue", [[0, 1], [0, 2], [1, 2]], 1)))["break"]().caption("<b>最后一步:</b>我们可以利用每一列的主元进行初等行变换消元.").setStyle(blink("red", [[1, 1], [2, 2]]))["break"]().caption("<b>最后一步:</b> 我们将把第三列其他元素清除").setStyle([
  {
    color: "black",
    entries: [[0, 1], [1, 1]],
    duration: 1
  }
].concat(blink("red", [[2, 2]], 1)).concat(blink("blue", [[0, 2], [1, 2]], 1))).caption("<b>最后一步:</b>我们用初等行变换消除这列的其他元素.").rowRep(2, -2, 1).rowRep(2, -3, 0)["break"]().caption("<b>最后一步:</b> 我们要清除第二列...").setStyle([
  {
    color: "black",
    entries: [[0, 2], [1, 2], [2, 2]],
    duration: 1
  }
].concat(blink("red", [[1, 1]], 1)).concat(blink("blue", [[0, 1]], 1))).caption("<b>最后一步:</b>我们将把第二列按照相同的方式处理.").rowRep(1, -2, 0)["break"]().caption("现在的矩阵变成行最简型.").setStyle([
  {
    color: "black",
    entries: [[1, 0], [2, 0], [2, 1], [0, 1]],
    duration: 1,
    color: "red",
    entries: [[0, 0], [1, 1], [2, 2]],
    duration: 1
  }
])["break"]().caption("加上分割线...").reAugment().caption("加上分割线, 操作完毕").setStyle({
  transform: "rotate(360deg)",
  entries: [[0, 0], [0, 1], [0, 2], [0, 3], [1, 0], [1, 1], [1, 2], [1, 3], [2, 0], [2, 1], [2, 2], [2, 3]],
  duration: 1.5,
  timing: 'linear'
})["break"]();

document.querySelector(".my-turn button").onclick = function() {
  var den, entry, getOps, i, j, k, l, m, mat, matval, num, ops, opsval, ref, ref1, ref2, ref3, ref4, row, rows, str;
  mat = slideshow.states[0].matrix;
  rows = [];
  for (i = k = 0, ref = mat.length; 0 <= ref ? k < ref : k > ref; i = 0 <= ref ? ++k : --k) {
    row = [];
    for (j = l = 0, ref1 = mat[0].length; 0 <= ref1 ? l < ref1 : l > ref1; j = 0 <= ref1 ? ++l : --l) {
      entry = mat[i][j];
      ref2 = RRMatrix.approxFraction(entry), num = ref2[0], den = ref2[1];
      row.push(num + ((ref3 = den !== 1) != null ? ref3 : "%2F" + {
        den: ""
      }));
    }
    rows.push(row.join(","));
  }
  matval = rows.join(":");
  getOps = function(slide) {
    var m, ref4, ret;
    if (slide.slides) {
      ret = [];
      for (i = m = 0, ref4 = slide.slides.length; 0 <= ref4 ? m < ref4 : m > ref4; i = 0 <= ref4 ? ++m : --m) {
        ret = ret.concat(getOps(slide.slides[i]));
      }
      return ret;
    }
    if (slide.data.shortOp) {
      return [slide.data.shortOp];
    }
    return [];
  };
  ops = [];
  for (i = m = 0, ref4 = slideshow.currentSlideNum; 0 <= ref4 ? m < ref4 : m > ref4; i = 0 <= ref4 ? ++m : --m) {
    ops = ops.concat(getOps(slideshow.slides[i]));
  }
  opsval = ops.join(",");
  str = "rrinter.html?mat=" + matval + "&ops=" + opsval + "&cur=" + ops.length;
  if (augment != null) {
    str += "&augment=" + augment;
  }
  return window.open(str);
};


        });
    </script>
</body>
</html>

